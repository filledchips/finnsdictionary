<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Finn's English Dictionary</title>
<style>
  * { box-sizing: border-box; }
  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(to bottom, #005f99, #b2ebf2);
    height: 100vh;
    overflow-x: hidden;
    overflow-y: auto;
    position: relative;
  }
  h1 { margin:2rem 0 1rem; text-align:center; color:#e0f7fa; text-shadow:1px 1px 3px rgba(0,0,0,0.4); font-size:2.5rem; z-index:2; position:relative; }
  .search-container{display:flex;justify-content:center;gap:.5rem;margin-bottom:2rem;z-index:2;position:relative;}
  input[type=text],button{padding:.7rem;font-size:1rem;border-radius:5px;border:none;outline:none;}
  input[type=text]{width:250px;}
  button{background:#006994;color:white;cursor:pointer;transition:.3s;}
  button:hover{background:#004e75;}
  #result{display:none;background:rgba(255,255,255,.2);backdrop-filter:blur(12px);border-radius:15px;padding:2rem;margin:0 auto 3rem auto;width:90%;max-width:600px;color:white;z-index:2;position:relative;}
  .word{font-size:2rem;font-weight:bold;display:flex;align-items:center;gap:10px;}
  .phonetic{font-style:italic;margin-top:.3rem;}
  .partOfSpeech{margin-top:1rem;font-weight:bold;color:#b2ebf2;}
  .definition{margin-top:.5rem;padding-left:1rem;line-height:1.5;}
  .error{color:#ffcccb;margin-top:1rem;text-align:center;}
  .speak-button{background:#00acc1;border:none;border-radius:5px;padding:.3rem .7rem;color:white;font-size:1.2rem;cursor:pointer;transition:.3s;}
  .speak-button:hover{background:#008ba3;}
  .bubble-container{position:absolute;top:0;left:0;z-index:0;width:100%;height:100%;overflow:hidden;pointer-events:none;}
  .bubble{position:absolute;bottom:-50px;background:rgba(255,255,255,.2);border-radius:50%;animation:rise 15s linear infinite;}
  @keyframes rise{0%{transform:translateY(0) scale(1);opacity:.7;}100%{transform:translateY(-1200px)scale(.5);opacity:0;}}
</style>
</head>
<body>
<div class="bubble-container" id="bubbles"></div>
<h1>Finn's English Dictionary</h1>
<div class="search-container">
  <input type="text" id="wordInput" placeholder="Enter a word..." autocomplete="off"/>
  <button onclick="searchWord()">Search</button>
</div>
<div id="result"></div>

<script>
const resultDiv=document.getElementById("result");
const inputField=document.getElementById("wordInput");

const customDefinitions={
  "proshipper":{partOfSpeech:"noun",definition:"A proshipper is someone who believes that any fictional ship is valid, even if the content is controversial or uncomfortable. They separate fiction from reality and don’t see dark ships as real-life endorsement."},
  "darkshipper":{partOfSpeech:"noun",definition:"A darkshipper likes or supports fictional relationships that revolve around disturbing or messed-up themes (obsession, manipulation, horror, etc.). They enjoy it for the story value, not because they support it IRL."},
  "mlm":{partOfSpeech:"abbreviation",definition:"Means ‘male love male’. Used in fandoms to describe content or attraction between men."},
  "wlw":{partOfSpeech:"abbreviation",definition:"Means ‘woman love woman’. A casual term for lesbian / sapphic attraction or content."},
  "comshipper":{partOfSpeech:"noun",definition:"Someone who enjoys fictional pairings that are morally complex and messy. They like nuance instead of clean/positive dynamics."},
  "ships":{partOfSpeech:"noun",definition:"Short for ‘relationships’. Used in fandom when pairing two characters (romantically or platonically)."},
  "aroace":{partOfSpeech:"adjective/noun",definition:"Shorthand for aromantic and asexual. Describes someone who feels little or no romantic and sexual attraction."},
  "enby":{partOfSpeech:"noun",definition:"Casual slang for ‘non-binary’. Refers to anyone whose gender isn’t strictly male or female."},
  "pop":{partOfSpeech:"verb",definition:"In Dandy’s World, to ‘pop’ a machine means to repair it / finish it so the match can progress."},
  "med":{partOfSpeech:"noun",definition:"Short for medkit or healthkit; used to heal yourself or a teammate."},
  "band":{partOfSpeech:"noun",definition:"Short for bandage — quick healing item used in emergencies."},
  "rox":{partOfSpeech:"noun",definition:"A harsh insult meaning ‘pedophile’. Very negative slang used in the community."},
  "glis":{partOfSpeech:"noun",definition:"A nickname players use for the twisted named Glisten. It's just a shorthand and not an action or verb."},
  "babysit":{partOfSpeech:"verb",definition:"To stay near a twisted and keep its attention so teammates can safely do objectives (like machines)."},
  "distract":{partOfSpeech:"verb",definition:"To purposely get chased by the twisted so others can complete objectives."},
  "distractor":{partOfSpeech:"noun",definition:"The person doing the distracting (baiting the twisted)."},
  "extract":{partOfSpeech:"verb",definition:"Another way of saying ‘repair a machine’ (same as pop)."},
  "extractor":{partOfSpeech:"noun",definition:"A person or group that focuses on repairing machines."},
  "backup":{partOfSpeech:"noun",definition:"An extra support in case a distractor or healer goes down."},
  "gte":{partOfSpeech:"callout",definition:"‘Go to elevator’ — a quick callout used when it’s time to head out."},
  "eae":{partOfSpeech:"callout",definition:"‘Everyone at elevator’ — used to check if the whole team has arrived."},
  "tne":{partOfSpeech:"callout",definition:"‘Twisteds near elevator’ (warning)."},
  "ele":{partOfSpeech:"abbreviation",definition:"Short for elevator."},
  "panic mode":{partOfSpeech:"noun",definition:"Phase after all machines are done giving players ~25s to reach elevator or die."},
  "twisteds":{partOfSpeech:"noun",definition:"General name for all monsters in Dandy’s World."},
  "twisted":{partOfSpeech:"noun",definition:"A single monster from the Dandy’s World roster."},
  "machines":{partOfSpeech:"noun",definition:"Generators that must be repaired in order to progress."},
  "skillcheck":{partOfSpeech:"noun",definition:"Small timed mini-game that pops up during machine extraction; hitting it successfully avoids alerting the twisted."},
  "qwel":{partOfSpeech:"noun",definition:"Nickname of a Puerto Rican admin/dev for Blushcrunch Studio."},
  "qwelver":{partOfSpeech:"noun",definition:"Playful/alternate form of the name Qwel."},
  "darkship":{partOfSpeech:"noun",definition:"A fictional ship involving dark, disturbing, or morally questionable themes (obsession, manipulation, horror, etc.)."},
  "comship":{partOfSpeech:"noun",definition:"A fictional ship that’s morally complex and nuanced — it doesn’t fall into simple good/evil categories."},
  "proship":{partOfSpeech:"noun",definition:"A general ship that is considered valid regardless of its content; the idea that fictional pairings shouldn’t be policed even if they’re dark or controversial."}
};

async function searchWord(){
  const rawWord=inputField.value.trim();
  const word=rawWord.toLowerCase();
  let html="";
  if(customDefinitions[word]){
    const def=customDefinitions[word];
    html+=`<div class="word">${rawWord} <button class="speak-button" onclick="speak('${rawWord}')">&#128266;</button></div>`;
    html+=`<div class="partOfSpeech">${def.partOfSpeech}</div><div class="definition">${def.definition}</div>`;
  }else{
    try{
      const response=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`);
      if(!response.ok)throw new Error("API error");
      const data=await response.json();
      if(Array.isArray(data)&&data.length>0){
        const entry=data[0];
        html+=`<div class="word">${entry.word} <button class="speak-button" onclick="speak('${entry.word}')">&#128266;</button></div>`;
        if(entry.phonetics&&entry.phonetics.length>0){
          const phoneticText=entry.phonetics.find(p=>p.text)?.text||"";
          if(phoneticText)html+=`<div class="phonetic">${phoneticText}</div>`;
        }
        entry.meanings.forEach(meaning=>{
          html+=`<div class="partOfSpeech">${meaning.partOfSpeech}</div>`;
          meaning.definitions.forEach((def,idx)=>{
            html+=`<div class="definition">${idx+1}. ${def.definition}</div>`;
          });
        });
      }else{
        html=`<div class="error">No definition found for "${rawWord}".</div>`;
      }
    }catch{html=`<div class="error">Error fetching definition.</div>`;}
  }
  resultDiv.innerHTML=html;
  resultDiv.style.display="block";
}

function speak(word){
  if(!window.speechSynthesis)return alert("Speech not supported.");
  const utterance=new SpeechSynthesisUtterance(word);
  window.speechSynthesis.speak(utterance);
}

function createBubble(){
  const bubble=document.createElement("div");
  bubble.classList.add("bubble");
  const size=Math.random()*20+15;
  bubble.style.width=`${size}px`;
  bubble.style.height=`${size}px`;
  bubble.style.left=`${Math.random()*100}%`;
  bubble.style.animationDuration=`${Math.random()*10+10}s`;
  bubble.style.opacity=Math.random()*0.4+0.3;
  document.getElementById("bubbles").appendChild(bubble);
  setTimeout(()=>{bubble.remove();},15000);
}

inputField.addEventListener("keydown",(e)=>{
  if(e.key==="Enter"){
    createBubble();
    searchWord();
  }
});
</script>
</body>
</html>
