<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Finn's English Dictionary</title>
  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(to bottom, #005f99, #b2ebf2);
      height: 100vh;
      overflow-x: hidden;
      overflow-y: auto;
      position: relative;
    }

    h1 {
      margin: 2rem 0 1rem;
      text-align: center;
      color: #e0f7fa;
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4);
      font-size: 2.5rem;
      z-index: 2;
      position: relative;
    }

    .search-container {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin-bottom: 2rem;
      z-index: 2;
      position: relative;
    }

    input[type="text"], button {
      padding: 0.7rem;
      font-size: 1rem;
      border-radius: 5px;
      border: none;
      outline: none;
    }

    input[type="text"] {
      width: 250px;
    }

    button {
      background-color: #006994;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #004e75;
    }

    #result {
      display: none;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(12px);
      border-radius: 15px;
      padding: 2rem;
      margin: 0 auto 3rem auto;
      width: 90%;
      max-width: 600px;
      color: white;
      z-index: 2;
      position: relative;
    }

    .word {
      font-size: 2rem;
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .phonetic {
      font-style: italic;
      margin-top: 0.3rem;
    }

    .partOfSpeech {
      margin-top: 1rem;
      font-weight: bold;
      color: #b2ebf2;
    }

    .definition {
      margin-top: 0.5rem;
      padding-left: 1rem;
      line-height: 1.5;
    }

    .error {
      color: #ffcccb;
      margin-top: 1rem;
      text-align: center;
    }

    .speak-button {
      background-color: #00acc1;
      border: none;
      border-radius: 5px;
      padding: 0.3rem 0.7rem;
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .speak-button:hover {
      background-color: #008ba3;
    }

    .bubble-container {
      position: absolute;
      top: 0;
      left: 0;
      z-index: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      pointer-events: none;
    }

    .bubble {
      position: absolute;
      bottom: -50px;
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      animation: rise 15s linear infinite;
    }

    @keyframes rise {
      0% {
        transform: translateY(0) scale(1);
        opacity: 0.7;
      }
      100% {
        transform: translateY(-1200px) scale(0.5);
        opacity: 0;
      }
    }

    .tenor-gif-embed {
      margin-top: 2rem;
      text-align: center;
      z-index: 2;
      position: relative;
    }

    .credits-text {
      text-align: center;
      font-size: 0.9rem;
      color: #e0f7fa;
      margin-top: 0.3rem;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
      z-index: 2;
      position: relative;
    }
  </style>
</head>
<body>

  <div class="bubble-container" id="bubbles"></div>

  <h1>Finn's English Dictionary</h1>

  <div class="search-container">
    <input type="text" id="wordInput" placeholder="Enter a word..." autocomplete="off" />
    <button onclick="searchWord()">Search</button>
  </div>

  <div id="result"></div>

  <div class="tenor-gif-embed" data-postid="14556160526932274392" data-share-method="host" data-aspect-ratio="0.562249" data-width="100%">
    <a href="https://tenor.com/view/finn-dandys-world-dandysworld-finndandysworld-finn-dw-gif-14556160526932274392">Finn Dandys World GIF</a> 
    from <a href="https://tenor.com/search/finn-gifs">Finn GIFs</a>
  </div>
  <p class="credits-text">type WYTT for credits</p>
  <script type="text/javascript" async src="https://tenor.com/embed.js"></script>

  <script>
    const resultDiv = document.getElementById("result");
    const inputField = document.getElementById("wordInput");

    const customDefinitions = {
      // Existing definitions ...
      "proshipper": {
        partOfSpeech: "noun",
        definition: "Someone who supports all ships regardless of content or context."
      },
      "darkshipper": {
        partOfSpeech: "noun",
        definition: "Someone who supports dark or problematic ships, often exploring mature or taboo themes."
      },
      "mlm": {
        partOfSpeech: "abbreviation",
        definition: "Male love male. Refers to romantic or sexual attraction between men; commonly used as a shorthand for gay."
      },
      "wlw": {
        partOfSpeech: "abbreviation",
        definition: "Woman love woman. Refers to romantic or sexual attraction between women; commonly used as a shorthand for lesbian."
      },
      "comshipper": {
        partOfSpeech: "noun",
        definition: "Someone who supports complicated or nuanced relationships, often involving morally grey dynamics."
      },
      "ships": {
        partOfSpeech: "noun",
        definition: "Short for relationships, typically romantic pairings between characters in fandoms."
      },
      "aroace": {
        partOfSpeech: "adjective/noun",
        definition: "Aromantic asexual; describes someone who experiences little to no romantic or sexual attraction."
      },
      "enby": {
        partOfSpeech: "noun",
        definition: "Short for non-binary; refers to someone whose gender identity is outside the male/female binary."
      },
      // ... (Rest of your definitions continue here)
    };

    async function searchWord() {
      const rawWord = inputField.value.trim();
      if (!rawWord) {
        resultDiv.style.display = "none";
        return;
      }
      const word = rawWord.toLowerCase();
      let html = "";

      if (customDefinitions[word]) {
        const def = customDefinitions[word];
        html += `<div class="word">${rawWord} <button class="speak-button" onclick="speak('${rawWord}')" title="Hear word">&#128266;</button></div>`;
        html += `<div class="partOfSpeech">${def.partOfSpeech}</div>`;
        html += `<div class="definition">${def.definition}</div>`;
      } else {
        try {
          const response = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`);
          if (!response.ok) throw new Error("API error");
          const data = await response.json();
          if (Array.isArray(data) && data.length > 0) {
            const entry = data[0];
            html += `<div class="word">${entry.word} <button class="speak-button" onclick="speak('${entry.word}')" title="Hear word">&#128266;</button></div>`;
            if (entry.phonetics && entry.phonetics.length > 0) {
              const phoneticText = entry.phonetics.find(p => p.text)?.text || "";
              if (phoneticText) {
                html += `<div class="phonetic">${phoneticText}</div>`;
              }
            }

            entry.meanings.forEach(meaning => {
              html += `<div class="partOfSpeech">${meaning.partOfSpeech}</div>`;
              meaning.definitions.forEach((def, idx) => {
                html += `<div class="definition">${idx + 1}. ${def.definition}</div>`;
              });
            });
          } else {
            html = `<div class="error">No definition found for "${rawWord}".</div>`;
          }
        } catch {
          html = `<div class="error">Error fetching definition.</div>`;
        }
      }

      resultDiv.innerHTML = html;
      resultDiv.style.display = "block";
    }

    function speak(word) {
      if (!window.speechSynthesis) return alert("Speech synthesis not supported in this browser.");
      const utterance = new SpeechSynthesisUtterance(word);
      window.speechSynthesis.speak(utterance);
    }

    function createBubble() {
      const bubble = document.createElement("div");
      bubble.classList.add("bubble");

      const size = Math.random() * 20 + 15;
      bubble.style.width = `${size}px`;
      bubble.style.height = `${size}px`;
      bubble.style.left = `${Math.random() * 100}%`;
      bubble.style.animationDuration = `${Math.random() * 10 + 10}s`;
      bubble.style.opacity = Math.random() * 0.4 + 0.3;

      document.getElementById("bubbles").appendChild(bubble);

      setTimeout(() => {
        bubble.remove();
      }, 15000);
    }

    inputField.addEventListener("keydown", function (e) {
      if (e.key === "Enter") {
        createBubble();
        searchWord();
      }
    });
  </script>

</body>
</html>
